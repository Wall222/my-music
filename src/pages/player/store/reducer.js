import { Map } from "immutable";
import * as actionTypes from './constants'


const defaultState = Map({
  currentSong: {},
  playList:  [
    {
      name: '唤醒时差',
      id: 1875246245,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 12429072,
          name: '隔壁老樊',
          tns: [],
          alias: []
        },
        {
          id: 33907588,
          name: '李俊',
          tns: [],
          alias: []
        }
      ],
      alia: [],
      pop: 100,
      st: 0,
      rt: '',
      fee: 8,
      v: 4,
      crbt: null,
      cf: '',
      al: {
        id: 132742883,
        name: '唤醒时差',
        picUrl: 'https://p2.music.126.net/Q91TWPyG3zwEv5pChwOJ3Q==/109951166353722551.jpg',
        tns: [],
        pic_str: '109951166353722551',
        pic: 109951166353722540
      },
      dt: 204387,
      h: {
        br: 320000,
        fid: 0,
        size: 8178460,
        vd: -35378
      },
      m: {
        br: 192000,
        fid: 0,
        size: 4907093,
        vd: -32780
      },
      l: {
        br: 128000,
        fid: 0,
        size: 3271410,
        vd: -31158
      },
      a: null,
      cd: '01',
      no: 1,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 0,
      s_id: 0,
      mark: 0,
      originCoverType: 0,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 4,
      songJumpInfo: null,
      single: 0,
      noCopyrightRcmd: null,
      cp: 0,
      rtype: 0,
      rurl: null,
      mst: 9,
      mv: 0,
      publishTime: 0
    },
    {
      name: '今天是星期几',
      id: 1875283511,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 1050282,
          name: '房东的猫',
          tns: [],
          alias: []
        }
      ],
      alia: [],
      pop: 100,
      st: 0,
      rt: '',
      fee: 8,
      v: 4,
      crbt: null,
      cf: '',
      al: {
        id: 132747553,
        name: '今天是星期几',
        picUrl: 'https://p1.music.126.net/OrgeM7TUDNit9xvJZy9LYA==/109951166361439097.jpg',
        tns: [],
        pic_str: '109951166361439097',
        pic: 109951166361439100
      },
      dt: 211783,
      h: {
        br: 320000,
        fid: 0,
        size: 8473965,
        vd: -57407
      },
      m: {
        br: 192000,
        fid: 0,
        size: 5084397,
        vd: -54812
      },
      l: {
        br: 128000,
        fid: 0,
        size: 3389613,
        vd: -53011
      },
      a: null,
      cd: '01',
      no: 1,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 0,
      s_id: 0,
      mark: 0,
      originCoverType: 0,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 4,
      songJumpInfo: null,
      single: 0,
      noCopyrightRcmd: null,
      rtype: 0,
      rurl: null,
      mst: 9,
      cp: 0,
      mv: 14314917,
      publishTime: 0
    },
    {
      name: 'Let There Be Light Again',
      id: 1876175286,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 11074,
          name: '落日飞车',
          tns: [],
          alias: []
        }
      ],
      alia: [],
      pop: 100,
      st: 0,
      rt: '',
      fee: 8,
      v: 3,
      crbt: null,
      cf: '',
      al: {
        id: 132873417,
        name: 'Let There Be Light Again',
        picUrl: 'https://p2.music.126.net/1UZcjMeUeEJxNDa-pvnhuQ==/109951166363875381.jpg',
        tns: [],
        pic_str: '109951166363875381',
        pic: 109951166363875380
      },
      dt: 227293,
      h: {
        br: 320000,
        fid: 0,
        size: 9094836,
        vd: -17733
      },
      m: {
        br: 192000,
        fid: 0,
        size: 5456919,
        vd: -15098
      },
      l: {
        br: 128000,
        fid: 0,
        size: 3637960,
        vd: -13338
      },
      a: null,
      cd: '01',
      no: 0,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 0,
      s_id: 0,
      mark: 262144,
      originCoverType: 0,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 3,
      songJumpInfo: null,
      single: 0,
      noCopyrightRcmd: null,
      rtype: 0,
      rurl: null,
      mst: 9,
      cp: 0,
      mv: 0,
      publishTime: 1631030400000
    },
    {
      name: '六耳',
      id: 1875759111,
      pst: 0,
      t: 0,
      ar: [
        {
          id: 12798217,
          name: '刘思鉴',
          tns: [],
          alias: []
        }
      ],
      alia: [],
      pop: 100,
      st: 0,
      rt: '',
      fee: 8,
      v: 2,
      crbt: null,
      cf: '',
      al: {
        id: 132689988,
        name: '2:58',
        picUrl: 'https://p1.music.126.net/qmBNmPV3wullSUmhD7m_SA==/109951166350719809.jpg',
        tns: [],
        pic_str: '109951166350719809',
        pic: 109951166350719800
      },
      dt: 220585,
      h: {
        br: 320000,
        fid: 0,
        size: 8826285,
        vd: -61261
      },
      m: {
        br: 192000,
        fid: 0,
        size: 5295789,
        vd: -58614
      },
      l: {
        br: 128000,
        fid: 0,
        size: 3530541,
        vd: -56909
      },
      a: null,
      cd: '01',
      no: 5,
      rtUrl: null,
      ftype: 0,
      rtUrls: [],
      djId: 0,
      copyright: 0,
      s_id: 0,
      mark: 0,
      originCoverType: 0,
      originSongSimpleData: null,
      tagPicList: null,
      resourceState: true,
      version: 2,
      songJumpInfo: null,
      single: 0,
      noCopyrightRcmd: null,
      mst: 9,
      cp: 0,
      rtype: 0,
      rurl: null,
      mv: 0,
      publishTime: 0
    }
  ],
  currentSongIndex: 0,
  sequence: 0,
  currentLyricIndex: 0
})

function reducer(state = defaultState, action) {
  switch(action.type) {
    case actionTypes.CHANGE_CURRENT_SONG:
      return state.set("currentSong", action.currentSong)
    case actionTypes.CHANGE_PLAY_LIST:
      return state.set("playList", action.playList)
    case actionTypes.CHANGE_CURRENT_SONG_INDEX:
      return state.set("currentSongIndex", action.index)
    case actionTypes.CHANGE_SEQUENCE:
      return state.set("sequence", action.sequence)
    case actionTypes.CHANGE_LYRIC:
      return state.set("lyricList", action.lyricList)
    case actionTypes.CHANGE_CURRENT_LYRIC_INDEX:
      return state.set("currentLyricIndex", action.currentLyricIndex)
    default:
      return state;
  }
}

export default reducer